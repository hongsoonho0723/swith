<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="utf-8">
  <title>Around | Single Post v.2</title>
  <!-- SEO Meta Tags-->
  <meta name="description" content="Around - Multipurpose Bootstrap HTML Template">
  <meta name="keywords" content="bootstrap, business, corporate, coworking space, services, creative agency, dashboard, e-commerce, mobile app showcase, saas, multipurpose, product landing, shop, software, ui kit, web studio, landing, dark mode, html5, css3, javascript, gallery, slider, touch, creative">
  <meta name="author" content="Createx Studio">
  <!-- Viewport-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Favicon and Touch Icons-->
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="../assets/favicon/site.webmanifest">
  <link rel="mask-icon" color="#6366f1" href="../assets/favicon/safari-pinned-tab.svg">
  <meta name="msapplication-TileColor" content="#080032">
  <meta name="msapplication-config" content="../assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="white">


  <!-- include libraries(jQuery, bootstrap) -->
 <!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"/>-->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="../assets/js/supportteam.js"></script>
  <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>-->

  <!--&lt;!&ndash; include summernote css/js &ndash;&gt;
  <link href="https://cdn.jselivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>-->
  <!-- Load the CKEditor library --> <!-- CKEditor5 사용하기 위한 CDN -->
  <script src="https://cdn.ckeditor.com/ckeditor5/29.2.0/classic/ckeditor.js"></script>

  <!-- 이미지처리를 위한 js 파일 -->
  <script src="../assets/js/upload.js"></script>

  <!-- 정렬을 위한 css 파일 -->
  <link rel="stylesheet" href="../assets/css/swith.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet" id="google-font">
  <!-- Vendor styles-->
  <link rel="stylesheet" media="screen" href="../assets/vendor/swiper/swiper-bundle.min.css"/>
  <!-- Main Theme Styles + Bootstrap-->
  <link rel="stylesheet" media="screen" href="../assets/css/theme.min.css">
</head>
<body>
<<!-- Menu with dropdown + Button -->

<header class="navbar navbar-expand-lg fixed-top bg-light">
  <div class="container">
    <a href="#" class="navbar-brand">
          <span class="text-primary flex-shrink-0 me-2">
            <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor" d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
            </svg>
          </span>
      S-With
    </a>
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse1">
      <span class="navbar-toggler-icon"></span>
    </button>
    <nav class="collapse navbar-collapse" id="navbarCollapse1">
      <ul class="navbar-nav me-auto">
        <li class="nav-item active">
          <a href="/match" class="nav-link">매칭라운지</a>
        </li>
        <li class="nav-item">
          <a href="/teams" class="nav-link">서포터팀</a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link">플레이윗미</a>
        </li>
        <li class="nav-item">
          <a href="/stories" class="nav-link">스토리</a>
        </li>

      </ul>

      <div class="navbar-nav ml-auto">
        <div class="container d-flex justify-content-right">
          <div class="btn-group dropdown">
            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              구인/팀 & 스토리생성
            </button>
            <div class="dropdown-menu dropdown-menu-end my-1">
              <a href="#" class="dropdown-item">매칭라운지 글 생성</a>
              <a href="" class="dropdown-item">서포터팀원 구하기</a>
              <a href="#" class="dropdown-item">플레이메이트 구하기</a>
              <div class="dropdown-divider"></div>
              <div><hr/></div>
              <a href="/posts" class="dropdown-item">서포터팀 생성</a>
              <a href="/stories/posts" class="dropdown-item">스토리 생성</a>
            </div>
          </div>
        </div>
        <th:block th:with="user=${#session.getAttribute('user')}">
          <!--로그인하지 않았을때-->
          <div th:if="${user == null}">
            <a href="/members/signin" class="btn btn-primary btn-sm fs-sm ms-3 mb-4 mb-lg-0">
              <i class="ai-user me-2 ms-n1"></i>
              로그인
            </a>
          </div>
          <!--로그인 했을 때-->
          <div th:if="${user != null}">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false" th:text="${#session.getAttribute('user').name}"></a>
                <ul class="dropdown-menu">
                  <li><a href="/info/mypage" class="dropdown-item">마이페이지</a></li>
                  <li><a href="#" class="dropdown-item">내 활동내역</a></li>
                  <li><a href="/logout" class="dropdown-item" style="color: red">log out</a></li>
                  <li><a href="#" class="dropdown-item">나의 팀</a></li>
                  <li href="#"><a class="dropdown-item">찜 목록</a></li>
                  <li href="#"><a class="dropdown-item">당신을 위한 추천!</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </th:block>
      </div>
    </nav>
  </div>
</header>

<div class="header" style="background-color: #57B0E2; color:white; height: 180px; padding-top: 60px; padding-bottom: 60px;">
  <div class="container me-auto">
    <h1 class="text-color padding">서포터팀 수정</h1>

    <h1 class="text-color padding" style="font-size: 1rem; padding-top: 10px;">다양한 사람들과 함께 체육활동을 즐겨보세요!</h1>

  </div>
</div>

<div class="container" style="padding-left: 80px;">



  <ul class="nav" style="padding-top: 40px; padding-bottom: 20px;">
    <li style="font-size: 2rem; color: #57B0E2; padding-right: 390px;">* 팀명</li>

  </ul>


  <input id="team_title" type="text" style="width: 400px; height: 40px; padding-right: 40px; margin-right: 40px;" checked disabled th:placeholder="${dto.team_title}";>


  <p style="margin-top:40px">

    <span style="font-size: 2rem; color: #57B0E2; margin-top: 150px; padding-right: 390px;">* 지역</span>
    <span style="font-size: 2rem; color: #57B0E2; margin-top: 150px; padding-right: 390px;">* 모집마감일</span>

  </p>




  <style>
    select {
      height: 40px;
      width: 160px;
      margin-right: 25px;

    }

  </style>

  <script>
    const sportSelect = document.getElementById("sport-select");

    sportSelect.addEventListener("change", function() {
      const selectedSport = sportSelect.value;
      console.log(`Selected sport: ${selectedSport}`);
    });
  </script>


  <select id="city" onchange="updateDistricts(); updateDistricts1();">
    <option selected disabled hidden value="">도시 선택</option>
    <option value="seoul">서울</option>
    <option value="gyeonggi">경기</option>
    <option value="incheon">인천</option>
    <option value="busan">부산</option>
    <option value="daegu">대구</option>
    <option value="gwangju">광주</option>
    <option value="daejeon">대전</option>
    <option value="ulsan">울산</option>
    <option value="sejong">세종</option>
    <option value="gangwon">강원</option>
    <option value="gyeongnam">경남</option>
    <option value="gyeongbuk">경북</option>
    <option value="jeonnam">전남</option>
    <option value="jeonbuk">전북</option>
    <option value="chungnam">충남</option>
    <option value="chungbuk">충북</option>
    <option value="jeju">제주</option>
  </select>


  <select id="district" style="margin-right:91px ;">
    <option value="">구 선택</option>
  </select>

  <script>
    const districtsByCity = {
      seoul: [
        "강남구",
        "강동구",
        "강북구",
        "강서구",
        "관악구",
        "광진구",
        "구로구",
        "금천구",
        "노원구",
        "도봉구",
        "동대문구",
        "동작구",
        "마포구",
        "서대문구",
        "서초구",
        "성동구",
        "성북구",
        "송파구",
        "양천구",
        "영등포구",
        "용산구",
        "은평구",
        "종로구",
        "중구",
        "중랑구",
      ],
      gyeonggi: [
        "가평군",
        "고양시",
        "과천시",
        "광명시",
        "광주시",
        "구리시",
        "군포시",
        "김포시",
        "남양주시",
        "동두천시",
        "부천시",
        "성남시",
        "수원시",
        "시흥시",
        "안산시",
        "안성시",
        "안양시",
        "양주시",
        "양평군",
        "여주시",
        "연천군",
        "오산시",
        "용인시",
        "의왕시",
        "의정부시",
        "이천시",
        "파주시",
        "평택시",
        "포천시",
        "하남시",
        "화성시",
      ],

      incheon: [
        "강화군",
        "계양구",
        "남동구",
        "동구",
        "미추홀구",
        "부평구",
        "서구",
        "연수구",
        "옹진군",
        "중구",
      ],
      busan: [
        "강서구",
        "금정구",
        "기장군",
        "남구",
        "동구",
        "동래구",
        "부산진구",
        "북구",
        "사상구",
        "사하구",
        "서구",
        "수영구",
        "연제구",
        "영도구",
        "중구",
        "해운대구",
      ],

      daegu: [
        "남구",
        "달서구",
        "달성군",
        "동구",
        "북구",
        "서구",
        "수성구",
        "중구",
      ],
      gwangju: ["광산구", "남구", "동구", "북구", "서구"],
      daejeon: ["대덕구", "동구", "서구", "유성구", "중구"],
      ulsan: ["남구", "동구", "북구", "울주군", "중구"],
      sejong: ["금산", "부강", "청원"],
      gangwon: [
        "강릉시",
        "고성군",
        "동해시",
        "삼척시",
        "속초시",
        "양구군",
        "양양군",
        "영월군",
        "원주시",
        "인제군",
        "정선군",
        "철원군",
        "춘천시",
        "태백시",
        "평창군",
        "홍천군",
        "화천군",
        "횡성군",
      ],
      gyeongnam: [
        "거제시",
        "거창군",
        "고성군",
        "김해시",
        "남해군",
        "밀양시",
        "사천시",
        "산청군",
        "양산시",
        "의령군",
        "진주시",
        "창녕군",
        "창원시",
        "통영시",
        "하동군",
        "함안군",
        "함양군",
        "합천군",
      ],
      gyeongbuk: [
        "경산시",
        "경주시",
        "고령군",
        "구미시",
        "군위군",
        "김천시",
        "문경시",
        "봉화군",
        "상주시",
        "성주군",
        "안동시",
        "영덕군",
        "영양군",
        "영주시",
        "영천시",
        "예천군",
        "울릉군",
        "울진군",
        "의성군",
        "청도군",
        "청송군",
        "칠곡군",
        "포항시",
      ],
      jeonnam: [
        "강진군",
        "고흥군",
        "곡성군",
        "광양시",
        "구례군",
        "나주시",
        "담양군",
        "목포시",
        "무안군",
        "보성군",
        "순천시",
        "신안군",
        "여수시",
        "영광군",
        "영암군",
        "완도군",
        "장성군",
        "장흥군",
        "진도군",
        "함평군",
        "해남군",
        "화순군",
      ],
      jeonbuk: [
        "고창군",
        "군산시",
        "김제시",
        "남원시",
        "무주군",
        "부안군",
        "순창군",
        "완주군",
        "익산시",
        "임실군",
        "장수군",
        "전주시",
        "정읍시",
        "진안군",
      ],
      chungnam: [
        "계룡시",
        "공주시",
        "금산군",
        "논산시",
        "당진시",
        "보령시",
        "부여군",
        "서산시",
        "서천군",
        "아산시",
        "예산군",
        "천안시",
        "청양군",
        "태안군",
        "홍성군",
      ],
      chungbuk: [
        "괴산군",
        "단양군",
        "보은군",
        "영동군",
        "옥천군",
        "음성군",
        "제천시",
        "증평군",
        "진천군",
        "청주시",
        "충주시",
      ],
      jeju: ["제주시", "서귀포시"],
    };

    function updateDistricts() {
      const citySelect = document.getElementById("city");
      const districtSelect = document.getElementById("district");

      const selectedCity = citySelect.value;
      const districts = districtsByCity[selectedCity];


      // 기존 옵션 제거
      districtSelect.innerHTML = "";

      // 새로운 옵션 생성
      if (districts) {
        for (const district of districts) {
          const option = document.createElement("option");
          option.value = district;
          option.innerText = district;
          districtSelect.appendChild(option);
        }
      }
    }
  </script>

  <input id="deadline" type="datetime-local" style=" width: 400px; height: 40px; margin-right: 25px;">






  <p style="margin-top:40px">

    <span style="font-size: 2rem; color: #57B0E2; margin-top: 150px; padding-right: 350px;">* 모집인원</span>
    <span style="font-size: 2rem; color: #57B0E2; margin-top: 150px; padding-right: 390px;">문의방법</span>

  </p>







  <select id="member_num" style="height: 40px; width: 400px; margin-right: 40px; ">
    <option selected disabled hidden> 인원선택</option>
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
    <option>5</option>
    <option>6</option>
    <option>7</option>
    <option>8</option>
    <option>9</option>
    <option>10</option>
  </select>


  <input id="inquiry" type="text" style="width: 400px; height: 40px; padding-right: 40px; margin-right: 40px;" placeholder=" ex) 오픈 채팅방 주소, 이메일 주소";>


  <ul class="nav" style="padding-top: 40px; padding-bottom: 20px;">
    <li style="font-size: 2rem; color: #57B0E2; padding-right: 350px;">* 팀 이미지</li>
  </ul>


  <!-- File input -->
  <div class="mb-3 py-3">
    <div class="rounded-2 mb-3">
      <img id="preview-image" style="width: 500px; height: 300px;  " src="../assets/img/swith/swith-picture.png">
    </div>
    <input class="form-control" type="file" id="input-image" onchange="readImage(this);">
  </div>

  <div class="mb3 pt3">


    <h1 style="font-size: 2rem; color: #57B0E2; padding-right: 340px; padding-top: 40px; padding-bottom: 20px;">* 한 줄 소개</h1>
    <input id="simple_content" type="text" minlength='5' maxlength='30' style="height: 40px; width: 950px; margin-right: 25px;" placeholder=" 메인에 출력될 간단한 팀 소개를 한 줄 이내로 적어주세요.">

    <h1 style="font-size: 2rem; color: #57B0E2; padding-right: 340px; padding-top: 40px; padding-bottom: 20px;">* 소개글</h1>


    <!--<script>
      $(document).ready(function () {
        $("#summernote").summernote({
          placeholder:'팀에 대해서 설명해주세요!',
          height:500,
          toolbar: [
            // [groupName, [list of button]]
            [
              "style",
              ["bold", "italic", "underline", "strikethrough", "clear"],
            ],
            ["fontsize", ["fontsize"]],
            ["color", ["forecolor", "backcolor"]],
            ["para", ["ul", "ol", "paragraph"]],
            ["height", ["height"]],
            ["insert", ["link", "picture"]],
          ],
        });
      });
    </script>-->

      <table border="1" width=100%>
        <tr></tr>
      </table>

    <form id="myForm">
      <textarea id="summernote" name="content">
      </textarea>
    </form>
    <script>
      let editor;
      ClassicEditor
              .create( document.querySelector( '#summernote' ),{
                toolbar: ['heading', '|', 'bold', 'italic', 'bulletedList', 'numberedList', 'blockQuote', 'undo', 'redo'],
              } )
              .then( newEditor => {
                editor = newEditor;
              } )
              .catch( error => {
                console.error( error );
              } );
    </script>
    <div class="container d-flex justify-content-center" style="padding-top: 50px; text-align: center;">
      <a type="button" style="width:100px; height:40px; background-color: gray; border: none; padding-top: 12px;" class="btn btn-success ms-2" href="#">작성취소</a>
      <a type="button" style="width:100px; height:40px; background-color: indigo; border: none; padding-top: 12px;" class="btn btn-success ms-2" th:href="@{/teams/{team_title}(team_title=${dto.team_title})}" onclick="modifyForm()">수정완료</a>
    </div>

  </div>
<script>
  function removeHtmltags(str) {
    return str.replace(/<\/?[^>]+(>|$)/g, "");
  }
  function modifyForm(){
    document.querySelector('#summernote').value = removeHtmltags(editor.getData());

  const team_title = document.querySelector("#team_title").getAttribute('placeholder');
  console.log(team_title);
  const supportTeamDTO={
  "team_title": team_title,
  /*"team_writer": "testUser1",*/
  "content": $("#summernote").val(),
  "sido": $("#city").val(),
  "sigungu": $("#district").val(),
  "member_num": $("#member_num").val(),
  "image_team": "../assets/image_team/default.jpg",  //$("#input-image").val(),
  "simple_content": $("#simple_content").val(),
  "inquiry": $("#inquiry").val(),
  "finished": false,
  "deadline": $("#deadline").val()
  };
  $.ajax({
  url: "/teams/admin/" + team_title,
  type: "PUT",
  data: JSON.stringify(supportTeamDTO),
  contentType: "application/json",
  success: function (res){
  console.log("서포터팀 수정 완료")
  },
  error: function(){
  console.log("서포터팀 수정 실패")
  }
  });
  }
  </script>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <footer class="footer dark-mode bg-light py-5" style="position: relative; bottom: 0;">
    <div class="container">
      <ul class="nav justify-content- py-1 pb-sm-1">
        <li class="nav-item"><a class="nav-link py-1 px-3 mx-1" href="#" style="font-size: 1.6rem; font-family: Arial; ">S-With</a></li>
      </ul>
      <ul class="nav">
        <li class="nav-item" style="margin-right: auto; padding-left:10px ; color: gray;">contact wnduq@gmail.com</li>
        <a class="nav-link py-1 px-3 mx-1" href="#" style="color: gray;">이용약관</a>
        <a class="nav-link py-1 px-3 mx-1" href="#" style="color: gray;">개인정보처리방침</a>
        <a class="nav-link py-1 px-3 mx-1" href="#" style="color: gray;">서비스소개</a>
      </ul>

      <ul class="nav">
        <li class="nav justify-content" style="margin-right: auto; padding-left:10px; color: gray;">Copyright S-With. All rights reserved
        </li>
      </ul>
    </div>
  </footer>
</div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>